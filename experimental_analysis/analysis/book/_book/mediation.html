<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 Mediation | Metaphors on Charitable Donations</title>
  <meta name="description" content="Effects of Battle and Journey Metaphors on Charitable Donations for Cancer Patients" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="8 Mediation | Metaphors on Charitable Donations" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Effects of Battle and Journey Metaphors on Charitable Donations for Cancer Patients" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 Mediation | Metaphors on Charitable Donations" />
  
  <meta name="twitter:description" content="Effects of Battle and Journey Metaphors on Charitable Donations for Cancer Patients" />
  

<meta name="author" content="Alex Liebscher" />


<meta name="date" content="2020-08-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="response-times.html"/>
<link rel="next" href="setup-of-the-holdout-analysis.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#load-libraries"><i class="fa fa-check"></i><b>1.1</b> Load Libraries</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#load-data"><i class="fa fa-check"></i><b>1.2</b> Load Data</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#build-custom-functions"><i class="fa fa-check"></i><b>1.3</b> Build Custom Functions</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#set-custom-plot-themes"><i class="fa fa-check"></i><b>1.4</b> Set Custom Plot Themes</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i><b>2</b> Data Overview</a><ul>
<li class="chapter" data-level="2.1" data-path="overview.html"><a href="overview.html#tabular-summaries"><i class="fa fa-check"></i><b>2.1</b> Tabular Summaries</a></li>
<li class="chapter" data-level="2.2" data-path="overview.html"><a href="overview.html#visualization-summaries"><i class="fa fa-check"></i><b>2.2</b> Visualization Summaries</a></li>
<li class="chapter" data-level="2.3" data-path="overview.html"><a href="overview.html#duration-statistics"><i class="fa fa-check"></i><b>2.3</b> Duration Statistics</a></li>
<li class="chapter" data-level="2.4" data-path="overview.html"><a href="overview.html#coarse-donation-behavior"><i class="fa fa-check"></i><b>2.4</b> Coarse Donation Behavior</a></li>
<li class="chapter" data-level="2.5" data-path="overview.html"><a href="overview.html#summary"><i class="fa fa-check"></i><b>2.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="metaphors.html"><a href="metaphors.html"><i class="fa fa-check"></i><b>3</b> Metaphors</a><ul>
<li class="chapter" data-level="3.1" data-path="metaphors.html"><a href="metaphors.html#immediate-alternative-questions"><i class="fa fa-check"></i><b>3.1</b> Immediate Alternative Questions</a></li>
<li class="chapter" data-level="3.2" data-path="metaphors.html"><a href="metaphors.html#coarse-donation-groups"><i class="fa fa-check"></i><b>3.2</b> Coarse Donation Groups</a><ul>
<li class="chapter" data-level="3.2.1" data-path="metaphors.html"><a href="metaphors.html#metaphor-condition-and-presence-on-likelihood-of-wide-donation-group"><i class="fa fa-check"></i><b>3.2.1</b> Metaphor Condition and Presence on Likelihood of Wide Donation Group</a></li>
<li class="chapter" data-level="3.2.2" data-path="metaphors.html"><a href="metaphors.html#metaphor-condition-and-presence-on-likelihood-of-narrow-donation-group"><i class="fa fa-check"></i><b>3.2.2</b> Metaphor Condition and Presence on Likelihood of Narrow Donation Group</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="metaphors.html"><a href="metaphors.html#broader-alternative-questions"><i class="fa fa-check"></i><b>3.3</b> Broader Alternative Questions</a><ul>
<li class="chapter" data-level="3.3.1" data-path="metaphors.html"><a href="metaphors.html#random-forest-regression"><i class="fa fa-check"></i><b>3.3.1</b> Random Forest Regression</a></li>
<li class="chapter" data-level="3.3.2" data-path="metaphors.html"><a href="metaphors.html#gradient-boosted-trees"><i class="fa fa-check"></i><b>3.3.2</b> Gradient Boosted Trees</a></li>
<li class="chapter" data-level="3.3.3" data-path="metaphors.html"><a href="metaphors.html#generalized-additive-models"><i class="fa fa-check"></i><b>3.3.3</b> Generalized Additive Models</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="metaphors.html"><a href="metaphors.html#summary-1"><i class="fa fa-check"></i><b>3.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="sympathy-urgency.html"><a href="sympathy-urgency.html"><i class="fa fa-check"></i><b>4</b> Sympathy and Urgency</a><ul>
<li class="chapter" data-level="4.1" data-path="sympathy-urgency.html"><a href="sympathy-urgency.html#sympathy"><i class="fa fa-check"></i><b>4.1</b> Sympathy</a></li>
<li class="chapter" data-level="4.2" data-path="sympathy-urgency.html"><a href="sympathy-urgency.html#urgency"><i class="fa fa-check"></i><b>4.2</b> Urgency</a></li>
<li class="chapter" data-level="4.3" data-path="sympathy-urgency.html"><a href="sympathy-urgency.html#metaphor-on-sympathy"><i class="fa fa-check"></i><b>4.3</b> Metaphor on Sympathy</a></li>
<li class="chapter" data-level="4.4" data-path="sympathy-urgency.html"><a href="sympathy-urgency.html#metaphor-on-urgency"><i class="fa fa-check"></i><b>4.4</b> Metaphor on Urgency</a></li>
<li class="chapter" data-level="4.5" data-path="sympathy-urgency.html"><a href="sympathy-urgency.html#cancer-experience-on-sympathy"><i class="fa fa-check"></i><b>4.5</b> Cancer Experience on Sympathy</a></li>
<li class="chapter" data-level="4.6" data-path="sympathy-urgency.html"><a href="sympathy-urgency.html#cancer-experience-on-urgency"><i class="fa fa-check"></i><b>4.6</b> Cancer Experience on Urgency</a></li>
<li class="chapter" data-level="4.7" data-path="sympathy-urgency.html"><a href="sympathy-urgency.html#summary-2"><i class="fa fa-check"></i><b>4.7</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="demographics.html"><a href="demographics.html"><i class="fa fa-check"></i><b>5</b> Demographics</a><ul>
<li class="chapter" data-level="5.1" data-path="demographics.html"><a href="demographics.html#patient-gender"><i class="fa fa-check"></i><b>5.1</b> Patient Gender</a></li>
<li class="chapter" data-level="5.2" data-path="demographics.html"><a href="demographics.html#gender"><i class="fa fa-check"></i><b>5.2</b> Gender</a></li>
<li class="chapter" data-level="5.3" data-path="demographics.html"><a href="demographics.html#gender-congruency-effects"><i class="fa fa-check"></i><b>5.3</b> Gender Congruency Effects</a><ul>
<li class="chapter" data-level="5.3.1" data-path="demographics.html"><a href="demographics.html#gender-congruence-on-sympathy"><i class="fa fa-check"></i><b>5.3.1</b> Gender Congruence on Sympathy</a></li>
<li class="chapter" data-level="5.3.2" data-path="demographics.html"><a href="demographics.html#gender-congruence-on-urgency"><i class="fa fa-check"></i><b>5.3.2</b> Gender Congruence on Urgency</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="demographics.html"><a href="demographics.html#self-cancer"><i class="fa fa-check"></i><b>5.4</b> Self Cancer</a></li>
<li class="chapter" data-level="5.5" data-path="demographics.html"><a href="demographics.html#friends-and-family-cancer"><i class="fa fa-check"></i><b>5.5</b> Friends and Family Cancer</a></li>
<li class="chapter" data-level="5.6" data-path="demographics.html"><a href="demographics.html#education"><i class="fa fa-check"></i><b>5.6</b> Education</a></li>
<li class="chapter" data-level="5.7" data-path="demographics.html"><a href="demographics.html#socioeconomics"><i class="fa fa-check"></i><b>5.7</b> Socioeconomics</a></li>
<li class="chapter" data-level="5.8" data-path="demographics.html"><a href="demographics.html#past-donations"><i class="fa fa-check"></i><b>5.8</b> Past Donations</a></li>
<li class="chapter" data-level="5.9" data-path="demographics.html"><a href="demographics.html#age"><i class="fa fa-check"></i><b>5.9</b> Age</a></li>
<li class="chapter" data-level="5.10" data-path="demographics.html"><a href="demographics.html#summary-3"><i class="fa fa-check"></i><b>5.10</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="descriptions.html"><a href="descriptions.html"><i class="fa fa-check"></i><b>6</b> Descriptions</a><ul>
<li class="chapter" data-level="6.0.1" data-path="descriptions.html"><a href="descriptions.html#quality"><i class="fa fa-check"></i><b>6.0.1</b> Quality</a></li>
<li class="chapter" data-level="6.1" data-path="descriptions.html"><a href="descriptions.html#summary-4"><i class="fa fa-check"></i><b>6.1</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="response-times.html"><a href="response-times.html"><i class="fa fa-check"></i><b>7</b> Response Times</a><ul>
<li class="chapter" data-level="7.1" data-path="response-times.html"><a href="response-times.html#main-stimulus-timing"><i class="fa fa-check"></i><b>7.1</b> Main Stimulus Timing</a><ul>
<li class="chapter" data-level="7.1.1" data-path="response-times.html"><a href="response-times.html#relationship-with-metaphor-condition"><i class="fa fa-check"></i><b>7.1.1</b> Relationship with Metaphor Condition</a></li>
<li class="chapter" data-level="7.1.2" data-path="response-times.html"><a href="response-times.html#continuous-rt"><i class="fa fa-check"></i><b>7.1.2</b> Continuous RT</a></li>
<li class="chapter" data-level="7.1.3" data-path="response-times.html"><a href="response-times.html#discretized-rt"><i class="fa fa-check"></i><b>7.1.3</b> Discretized RT</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="response-times.html"><a href="response-times.html#experiment-content-timing"><i class="fa fa-check"></i><b>7.2</b> Experiment Content Timing</a></li>
<li class="chapter" data-level="7.3" data-path="response-times.html"><a href="response-times.html#experiment-timing"><i class="fa fa-check"></i><b>7.3</b> Experiment Timing</a></li>
<li class="chapter" data-level="7.4" data-path="response-times.html"><a href="response-times.html#summary-5"><i class="fa fa-check"></i><b>7.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="mediation.html"><a href="mediation.html"><i class="fa fa-check"></i><b>8</b> Mediation</a><ul>
<li class="chapter" data-level="8.1" data-path="mediation.html"><a href="mediation.html#any-metaphor-to-literal-condition"><i class="fa fa-check"></i><b>8.1</b> Any Metaphor to Literal condition</a></li>
<li class="chapter" data-level="8.2" data-path="mediation.html"><a href="mediation.html#battle-to-literal-condition"><i class="fa fa-check"></i><b>8.2</b> Battle to Literal condition</a><ul>
<li class="chapter" data-level="8.2.1" data-path="mediation.html"><a href="mediation.html#sympathy-1"><i class="fa fa-check"></i><b>8.2.1</b> Sympathy</a></li>
<li class="chapter" data-level="8.2.2" data-path="mediation.html"><a href="mediation.html#urgency-1"><i class="fa fa-check"></i><b>8.2.2</b> Urgency</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="mediation.html"><a href="mediation.html#journey-to-literal-condition"><i class="fa fa-check"></i><b>8.3</b> Journey to Literal condition</a><ul>
<li class="chapter" data-level="8.3.1" data-path="mediation.html"><a href="mediation.html#sympathy-2"><i class="fa fa-check"></i><b>8.3.1</b> Sympathy</a></li>
<li class="chapter" data-level="8.3.2" data-path="mediation.html"><a href="mediation.html#urgency-2"><i class="fa fa-check"></i><b>8.3.2</b> Urgency</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="mediation.html"><a href="mediation.html#battle-to-journey-condition"><i class="fa fa-check"></i><b>8.4</b> Battle to Journey condition</a><ul>
<li class="chapter" data-level="8.4.1" data-path="mediation.html"><a href="mediation.html#sympathy-3"><i class="fa fa-check"></i><b>8.4.1</b> Sympathy</a></li>
<li class="chapter" data-level="8.4.2" data-path="mediation.html"><a href="mediation.html#urgency-3"><i class="fa fa-check"></i><b>8.4.2</b> Urgency</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="mediation.html"><a href="mediation.html#summary-6"><i class="fa fa-check"></i><b>8.5</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="setup-of-the-holdout-analysis.html"><a href="setup-of-the-holdout-analysis.html"><i class="fa fa-check"></i><b>9</b> Setup of the Holdout Analysis</a><ul>
<li class="chapter" data-level="9.1" data-path="setup-of-the-holdout-analysis.html"><a href="setup-of-the-holdout-analysis.html#battle-and-journey-on-donations"><i class="fa fa-check"></i><b>9.1</b> Battle and Journey on Donations</a></li>
<li class="chapter" data-level="9.2" data-path="setup-of-the-holdout-analysis.html"><a href="setup-of-the-holdout-analysis.html#three-way-interaction-on-donations"><i class="fa fa-check"></i><b>9.2</b> Three-way Interaction on Donations</a></li>
<li class="chapter" data-level="9.3" data-path="setup-of-the-holdout-analysis.html"><a href="setup-of-the-holdout-analysis.html#metaphor-on-urgency-1"><i class="fa fa-check"></i><b>9.3</b> Metaphor on Urgency</a></li>
<li class="chapter" data-level="9.4" data-path="setup-of-the-holdout-analysis.html"><a href="setup-of-the-holdout-analysis.html#urgency-on-donations"><i class="fa fa-check"></i><b>9.4</b> Urgency on Donations</a></li>
<li class="chapter" data-level="9.5" data-path="setup-of-the-holdout-analysis.html"><a href="setup-of-the-holdout-analysis.html#summary-7"><i class="fa fa-check"></i><b>9.5</b> Summary</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Metaphors on Charitable Donations</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="mediation" class="section level1">
<h1><span class="header-section-number">8</span> Mediation</h1>
<p><a href="https://crumplab.github.io/psyc7709/book/docs/bootstrapped-mediation-tutorial.html" class="uri">https://crumplab.github.io/psyc7709/book/docs/bootstrapped-mediation-tutorial.html</a></p>
<p><a href="https://www.annualreviews.org/doi/pdf/10.1146/annurev.psych.58.110405.085542" class="uri">https://www.annualreviews.org/doi/pdf/10.1146/annurev.psych.58.110405.085542</a></p>
<p>We will use the responses to the questions about perceived urgency and sympathy toward the patient as variables in a mediation analysis to explore their role in mediating metaphor’s effect on donation amounts.</p>
<p>Steps to establishing mediation via tests of causal steps, from Baron &amp; Kenny (1986) [BK86]:</p>
<ol style="list-style-type: decimal">
<li>“a significant relation of the independent variable to the dependent variable is required”</li>
<li>“a significant relation of the independent variable to the hypothesized mediating variable is required”</li>
<li>“the mediating variable must be significantly related to the dependent variable when both the independent variable and mediating variable are predictors of the dependent variable”</li>
</ol>
<p>Alternatively, we may use resampling techniques (e.g. bootstrap) to create confidence intervals on the indirect effect and therefore construct a NHT.</p>
<p>The two mediation techniques aren’t neccessarily mutually exclusive, however using BCa bootstrapped CIs tends to lead to much higher power (Fritz &amp; MacKinnon, 2007) and doesn’t rely on the same assumptions (although similarities exists).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(crayon)
<span class="kw">library</span>(mediation)</code></pre></div>
<pre><code>## Loading required package: MASS</code></pre>
<pre><code>## 
## Attaching package: &#39;MASS&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     select</code></pre>
<pre><code>## Loading required package: Matrix</code></pre>
<pre><code>## 
## Attaching package: &#39;Matrix&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:tidyr&#39;:
## 
##     expand, pack, unpack</code></pre>
<pre><code>## Loading required package: mvtnorm</code></pre>
<pre><code>## Loading required package: sandwich</code></pre>
<pre><code>## mediation: Causal Mediation Analysis
## Version: 4.5.0</code></pre>
<p>Set up a few helper functions to identify mediation models worth running.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">check_BK86_assumption_<span class="dv">1</span> =<span class="st"> </span><span class="cf">function</span> (total_effect_pvalue, type_i_error) {
  <span class="cf">if</span> (total_effect_pvalue <span class="op">&lt;</span><span class="st"> </span>type_i_error) <span class="kw">print</span>(<span class="kw">glue_col</span>(<span class="st">&quot;{green The total effect of X on Y is significant.}&quot;</span>))
  <span class="cf">else</span> <span class="kw">print</span>(<span class="kw">glue_col</span>(<span class="st">&quot;{red The total effect of X on Y is not significant.}&quot;</span>))
}

check_BK86_assumption_<span class="dv">2</span> =<span class="st"> </span><span class="cf">function</span> (alpha_pvalue, type_i_error) {
  <span class="cf">if</span> (alpha_pvalue <span class="op">&lt;</span><span class="st"> </span>type_i_error) <span class="kw">print</span>(<span class="kw">glue_col</span>(<span class="st">&quot;{green The effect of X on M is significant.}&quot;</span>))
  <span class="cf">else</span> <span class="kw">print</span>(<span class="kw">glue_col</span>(<span class="st">&quot;{red The effect of X on M is not significant.}&quot;</span>))
}

check_BK86_assumption_<span class="dv">3</span> =<span class="st"> </span><span class="cf">function</span> (beta_pvalue, type_i_error) {
  <span class="cf">if</span> (beta_pvalue <span class="op">&lt;</span><span class="st"> </span>type_i_error) <span class="kw">print</span>(<span class="kw">glue_col</span>(<span class="st">&quot;{green The effect of M on Y controlled for X is significant.}&quot;</span>))
  <span class="cf">else</span> <span class="kw">print</span>(<span class="kw">glue_col</span>(<span class="st">&quot;{red The effect of M on Y controlled for X is not significant.}&quot;</span>))
}

check_BK86_assumption_<span class="dv">4</span> =<span class="st"> </span><span class="cf">function</span> (direct_effect, total_effect, direct_effect_pvalue, type_i_error) {
  partial &lt;-<span class="st"> </span><span class="kw">abs</span>(direct_effect) <span class="op">&lt;</span><span class="st"> </span><span class="kw">abs</span>(total_effect)
  
  <span class="cf">if</span> (direct_effect_pvalue <span class="op">&gt;=</span><span class="st"> </span>type_i_error) {
    <span class="kw">print</span>(<span class="kw">glue_col</span>(<span class="st">&quot;{green The direct effect of X on Y adjusted for M is non-significant.}&quot;</span>))
  } <span class="cf">else</span> <span class="cf">if</span> (partial) {
    <span class="kw">print</span>(<span class="kw">glue_col</span>(<span class="st">&quot;{yellow The direct effect of X on Y adjusted for M is less than the total effect of X on Y.}&quot;</span>))
  } <span class="cf">else</span> {
    <span class="kw">print</span>(<span class="kw">glue_col</span>(<span class="st">&quot;{red The direct effect is significant or greater than the total effect.}&quot;</span>))
  }
}

check_mediation_assumptions =<span class="st"> </span><span class="cf">function</span> (dv, md, iv, iv_key, data) {
  
  formula_covars &lt;-<span class="st"> </span><span class="kw">as.character</span>(base.formula)[<span class="dv">2</span>]
  type_i_error &lt;-<span class="st"> </span><span class="fl">0.1</span>
  
  model_x_m &lt;-<span class="st">  </span><span class="kw">summary</span>(<span class="kw">lm</span>(<span class="kw">reformulate</span>(<span class="kw">c</span>(formula_covars, iv), md), <span class="dt">data =</span> data))
  model_mx_y &lt;-<span class="st"> </span><span class="kw">summary</span>(<span class="kw">lm</span>(<span class="kw">reformulate</span>(<span class="kw">c</span>(formula_covars, md, iv), dv), <span class="dt">data =</span> data))
  model_x_y &lt;-<span class="st">  </span><span class="kw">summary</span>(<span class="kw">lm</span>(<span class="kw">reformulate</span>(<span class="kw">c</span>(formula_covars, iv), dv), <span class="dt">data =</span> data))
  
  total_effect &lt;-<span class="st">   </span>model_x_y<span class="op">$</span>coefficients[iv_key, ]
  direct_effect &lt;-<span class="st">  </span>model_mx_y<span class="op">$</span>coefficients[iv_key, ]
  beta &lt;-<span class="st">           </span>model_mx_y<span class="op">$</span>coefficients[md, ]
  alpha &lt;-<span class="st">          </span>model_x_m<span class="op">$</span>coefficients[iv_key, ]
  
  <span class="kw">print</span>(<span class="kw">glue</span>(<span class="st">&quot;total effect = {round(total_effect[1] / total_effect[2], 2)}, direct effect = {round(direct_effect[1] / direct_effect[2], 2)}, beta = {round(beta[1] / beta[2], 2)}, alpha = {round(alpha[1] / alpha[2], 2)}&quot;</span>))
  <span class="kw">print</span>(<span class="kw">glue</span>(<span class="st">&quot;indirect effect = {round((alpha[1] / alpha[2]) * (beta[1] / beta[2]),3)}&quot;</span>))
  
  <span class="kw">check_BK86_assumption_1</span>(model_x_y<span class="op">$</span>coefficients[iv_key, <span class="dv">4</span>], type_i_error)
  
  <span class="kw">check_BK86_assumption_2</span>(model_x_m<span class="op">$</span>coefficients[iv_key, <span class="dv">4</span>], type_i_error)
  
  <span class="kw">check_BK86_assumption_3</span>(model_mx_y<span class="op">$</span>coefficients[md, <span class="dv">4</span>], type_i_error)
  
  <span class="kw">check_BK86_assumption_4</span>(direct_effect[<span class="dv">1</span>], total_effect[<span class="dv">1</span>], model_mx_y<span class="op">$</span>coefficients[iv_key, <span class="dv">4</span>], type_i_error)
}</code></pre></div>
<div id="any-metaphor-to-literal-condition" class="section level2">
<h2><span class="header-section-number">8.1</span> Any Metaphor to Literal condition</h2>
<p>The presence of Any Metaphor did not significantly predict donation, so mediation analysis is irrelevant here for sympathy and urgency.</p>
</div>
<div id="battle-to-literal-condition" class="section level2">
<h2><span class="header-section-number">8.2</span> Battle to Literal condition</h2>
<div id="sympathy-1" class="section level3">
<h3><span class="header-section-number">8.2.1</span> Sympathy</h3>
<p>Does Sympathy mediate the relation between metaphor condition (between battle and literal conditions) and donation amounts?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mask &lt;-<span class="st"> </span>trials<span class="op">$</span>cond_metaphor <span class="op">!=</span><span class="st"> &quot;journey&quot;</span>

<span class="kw">check_mediation_assumptions</span>(<span class="st">&quot;donation&quot;</span>, <span class="st">&quot;sympathy&quot;</span>, <span class="st">&quot;cond_metaphor&quot;</span>, <span class="st">&quot;cond_metaphorbattle&quot;</span>, trials[mask, ])</code></pre></div>
<pre><code>## total effect = 1.29, direct effect = 1.23, beta = 15.66, alpha = 0.38
## indirect effect = 5.952
## The total effect of X on Y is not significant.
## The effect of X on M is not significant.
## The effect of M on Y controlled for X is significant.
## The direct effect of X on Y adjusted for M is non-significant.</code></pre>
</div>
<div id="urgency-1" class="section level3">
<h3><span class="header-section-number">8.2.2</span> Urgency</h3>
<p>Does Urgency mediate the relation between metaphor condition (between battle and literal conditions) and donation amounts?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mask &lt;-<span class="st"> </span>trials<span class="op">$</span>cond_metaphor <span class="op">!=</span><span class="st"> &quot;journey&quot;</span>

<span class="kw">check_mediation_assumptions</span>(<span class="st">&quot;donation&quot;</span>, <span class="st">&quot;urgent&quot;</span>, <span class="st">&quot;cond_metaphor&quot;</span>, <span class="st">&quot;cond_metaphorbattle&quot;</span>, trials[mask, ])</code></pre></div>
<pre><code>## total effect = 1.29, direct effect = 0.51, beta = 14.93, alpha = 3.07
## indirect effect = 45.865
## The total effect of X on Y is not significant.
## The effect of X on M is significant.
## The effect of M on Y controlled for X is significant.
## The direct effect of X on Y adjusted for M is non-significant.</code></pre>
</div>
</div>
<div id="journey-to-literal-condition" class="section level2">
<h2><span class="header-section-number">8.3</span> Journey to Literal condition</h2>
<div id="sympathy-2" class="section level3">
<h3><span class="header-section-number">8.3.1</span> Sympathy</h3>
<p>Does Sympathy mediate the relation between metaphor condition (between journey and literal conditions) and donation amounts?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mask &lt;-<span class="st"> </span>trials<span class="op">$</span>cond_metaphor <span class="op">!=</span><span class="st"> &quot;battle&quot;</span>

<span class="kw">check_mediation_assumptions</span>(<span class="st">&quot;donation&quot;</span>, <span class="st">&quot;sympathy&quot;</span>, <span class="st">&quot;cond_metaphor&quot;</span>, <span class="st">&quot;cond_metaphorjourney&quot;</span>, trials[mask, ])</code></pre></div>
<pre><code>## total effect = -0.89, direct effect = -1.02, beta = 14.88, alpha = 0.39
## indirect effect = 5.745
## The total effect of X on Y is not significant.
## The effect of X on M is not significant.
## The effect of M on Y controlled for X is significant.
## The direct effect of X on Y adjusted for M is non-significant.</code></pre>
</div>
<div id="urgency-2" class="section level3">
<h3><span class="header-section-number">8.3.2</span> Urgency</h3>
<p>Does Urgency mediate the relation between metaphor condition (between journey and literal conditions) and donation amounts?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mask &lt;-<span class="st"> </span>trials<span class="op">$</span>cond_metaphor <span class="op">!=</span><span class="st"> &quot;battle&quot;</span>

<span class="kw">check_mediation_assumptions</span>(<span class="st">&quot;donation&quot;</span>, <span class="st">&quot;urgent&quot;</span>, <span class="st">&quot;cond_metaphor&quot;</span>, <span class="st">&quot;cond_metaphorjourney&quot;</span>, trials[mask, ])</code></pre></div>
<pre><code>## total effect = -0.89, direct effect = -0.87, beta = 14.89, alpha = -0.2
## indirect effect = -2.965
## The total effect of X on Y is not significant.
## The effect of X on M is not significant.
## The effect of M on Y controlled for X is significant.
## The direct effect of X on Y adjusted for M is non-significant.</code></pre>
</div>
</div>
<div id="battle-to-journey-condition" class="section level2">
<h2><span class="header-section-number">8.4</span> Battle to Journey condition</h2>
<p>These tests of mediation are the only ones which satisfy the first causal step for determining mediation (an alternative to resampling). This is a critical relationship, and because it holds here, we will also test the significance of the indirect effect using the bootstrap.</p>
<div id="sympathy-3" class="section level3">
<h3><span class="header-section-number">8.4.1</span> Sympathy</h3>
<p>Does Sympathy mediate the relation between metaphor condition (between battle and journey conditions) and donation amounts?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mask &lt;-<span class="st"> </span>trials<span class="op">$</span>cond_anymet

<span class="kw">check_mediation_assumptions</span>(<span class="st">&quot;donation&quot;</span>, <span class="st">&quot;sympathy&quot;</span>, <span class="st">&quot;cond_metaphor&quot;</span>, <span class="st">&quot;cond_metaphorjourney&quot;</span>, trials[mask, ])</code></pre></div>
<pre><code>## total effect = -2.1, direct effect = -2.21, beta = 14.95, alpha = 0.14
## indirect effect = 2.021
## The total effect of X on Y is significant.
## The effect of X on M is not significant.
## The effect of M on Y controlled for X is significant.
## The direct effect is significant or greater than the total effect.</code></pre>
<p>We remove the OptOut level of the gender factor due to numerical computation issues.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">temp_data &lt;-<span class="st"> </span>trials[mask, ] <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(gender <span class="op">!=</span><span class="st"> &quot;OO&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">cond_metaphor =</span> <span class="kw">factor</span>(cond_metaphor))

model_x_m &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="kw">update</span>(base.formula, sympathy <span class="op">~</span><span class="st"> </span>. <span class="op">+</span><span class="st"> </span>cond_metaphor), 
                <span class="dt">data =</span> temp_data)
model_mx_y &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="kw">update</span>(base.formula, donation <span class="op">~</span><span class="st"> </span>. <span class="op">+</span><span class="st"> </span>sympathy <span class="op">+</span><span class="st"> </span>cond_metaphor), 
                 <span class="dt">data =</span> temp_data)
  
<span class="co"># med.anlys &lt;- mediate(model.m = model_x_m,</span>
<span class="co">#                     model.y = model_mx_y, </span>
<span class="co">#                     treat = &quot;cond_metaphor&quot;,</span>
<span class="co">#                     mediator = &quot;sympathy&quot;,</span>
<span class="co">#                     boot = T, </span>
<span class="co">#                     boot.ci.type = &quot;bca&quot;,</span>
<span class="co">#                     sims = 2000)</span>
<span class="co"># </span>
<span class="co"># summary(med.anlys)</span></code></pre></div>
<p>Based upon Baron &amp; Kenny’s (1986) causal-steps, sympathy cannot mediate the relation between metaphor condition and donation amount. Moreover, based upon resampling, the same conclusion is also drawn.</p>
</div>
<div id="urgency-3" class="section level3">
<h3><span class="header-section-number">8.4.2</span> Urgency</h3>
<p>Does Urgency mediate the relation between metaphor condition (between battle and journey conditions) and donation amounts?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mask &lt;-<span class="st"> </span>trials<span class="op">$</span>cond_anymet

<span class="kw">check_mediation_assumptions</span>(<span class="st">&quot;donation&quot;</span>, <span class="st">&quot;urgent&quot;</span>, <span class="st">&quot;cond_metaphor&quot;</span>, <span class="st">&quot;cond_metaphorjourney&quot;</span>, trials[mask, ] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">sample_n</span>(<span class="dv">1000</span>))</code></pre></div>
<pre><code>## total effect = -1.12, direct effect = -0.65, beta = 7.23, alpha = -2.14
## indirect effect = -15.495
## The total effect of X on Y is not significant.
## The effect of X on M is significant.
## The effect of M on Y controlled for X is significant.
## The direct effect of X on Y adjusted for M is non-significant.</code></pre>
<p>For an alpha of magnitude -0.15 and a beta of magnitude 3.23, we should expect, according to Fritz and MacKinnon (2007), a required sample size of 385 participants for 80% power (and 5% type I error). We’ll keep this in mind for testing the hold-out set.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">temp_data &lt;-<span class="st"> </span>trials[mask, ] <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(gender <span class="op">!=</span><span class="st"> &quot;OO&quot;</span>)

model_x_m &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="kw">update</span>(base.formula, urgent <span class="op">~</span><span class="st"> </span>. <span class="op">+</span><span class="st"> </span>cond_metaphor), 
                <span class="dt">data =</span> temp_data)
model_mx_y &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="kw">update</span>(base.formula, donation <span class="op">~</span><span class="st"> </span>. <span class="op">+</span><span class="st"> </span>urgent <span class="op">+</span><span class="st"> </span>cond_metaphor), 
                 <span class="dt">data =</span> temp_data)


<span class="co"># med.anlys &lt;- mediate(model.m = model_x_m,</span>
<span class="co">#                     model.y = model_mx_y,</span>
<span class="co">#                     treat = &quot;cond_metaphor&quot;,</span>
<span class="co">#                     mediator = &quot;urgent&quot;, </span>
<span class="co">#                     boot = T, </span>
<span class="co">#                     boot.ci.type = &quot;bca&quot;,</span>
<span class="co">#                     sims = 2000)</span>
<span class="co"># </span>
<span class="co"># summary(med.anlys)</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># library(lavaan)</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># full_med &lt;- &#39;</span>
<span class="co"># urgent ~ cond_metaphor + cond_sex + past_donations.z + age.z</span>
<span class="co"># donation ~ urgent + cond_sex + past_donations.z + age.z</span>
<span class="co"># &#39;</span>
<span class="co"># </span>
<span class="co"># sem_full &lt;- sem(full_med, data = temp_data %&gt;% </span>
<span class="co">#                   mutate(</span>
<span class="co">#                     cond_metaphor = scale(as.integer(cond_metaphor)),</span>
<span class="co">#                     cond_sex = scale(as.integer(cond_sex))))</span>
<span class="co"># </span>
<span class="co"># partial_med &lt;- &#39;</span>
<span class="co"># urgent ~ cond_metaphor + cond_sex + past_donations.z + age.z</span>
<span class="co"># donation ~ cond_metaphor + urgent + cond_sex + past_donations.z + age.z</span>
<span class="co"># &#39;</span>
<span class="co"># </span>
<span class="co"># sem_partial &lt;- sem(partial_med, data = temp_data %&gt;% </span>
<span class="co">#                   mutate(</span>
<span class="co">#                     cond_metaphor = scale(as.integer(cond_metaphor)),</span>
<span class="co">#                     cond_sex = scale(as.integer(cond_sex))))</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># summary(sem_partial)</span></code></pre></div>
<p>Based upon Baron &amp; Kenny’s (1986) causal-steps, urgency does fully mediate the relation between metaphor condition and donation amount. Moreover, based upon resampling methods, the same conclusion can be drawn.</p>
</div>
</div>
<div id="summary-6" class="section level2">
<h2><span class="header-section-number">8.5</span> Summary</h2>
<p>Any Metaphor did not significantly predict donation amounts, so we skipped those two mediation checks all together.</p>
<p>Next, we looked at whether the relation between the battle condition compared to the literal condition and donation amounts was mediated. The metaphor condition did not predict donation amounts, so we don’t run these mediation analyses either.</p>
<p>A similar story holds for the journey condition compared to the literal condition.</p>
<p>Lastly, we checked whether the relation between the battle condition compared to the journey condition and donation amounts was mediated. This is the most promising exploration, since we see a significant difference between the two metaphor conditions. We find that according to BK86, sympathy fails to mediate the relationship since the metaphor condition did not predict sympathy. Likewise, a BCa bootstrap mediation analysis also reports a direct effect and no causal mediation effect. Yet, all four assumptions of BK86 were met when testing urgency’s mediation on the conditions. Similarly, a BCa bootstrap mediation analysis reports a highly significant decrease in donation amounts given the journey condition as a direct “causal” mediation of lowered urgency compared to the battle condition.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="response-times.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="setup-of-the-holdout-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
